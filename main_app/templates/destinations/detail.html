{% extends 'base.html' %}
{% block content %}


<h1 class="center">{{ dest.name }} &#8862;</h1>
{% for act in dest.activities_set.all %}

<div class="row">
  <div class="col s12">
    <tbody>
       <tr>
        <td>Activity: {{act.name}}</td> <br>
        <td>Date: {{act.date}}</td> <br>
        <td>Hours: {{act.duration}}</td> <br>
        <td>Field Notes: {{act.notes}}</td> <br>
       </tr>
      {% endfor %}
    </tbody>
  </div>
  
  
</div>

<div class="row">
  <div class="col s6">
    <div class="card">
      <div class="card-content">
        <span class="card-title center">Notes for "{{ dest.name }}"</span>
        <p>Date: {{ dest.date }}</p>
        <p>Days: {{ dest.days }}</p>
        <p>Notes: {{ dest.notes }}</p>
         
      </div>
       <div class="card-action right-align">
         <button type="submit" class="btn blue darken-4 center"><a href="{% url 'dest_update' dest.id %}">Add To Trip Notes</a>
         <form action="{% url 'dest_delete' dest.id %}" method="POST"></button>
          {% csrf_token %}
          <button type="submit" class="btn blue darken-4 right-align" style="font-family:Bebas Neue; font-size: 12px">Remove Trip</button>
         </form>
       </div>
      </div>
  </div>

  <div class="col s6">

  <ul class="collapsible">
    <li>
      <div class="collapsible-header">Add new</div>
      <div class="collapsible-body"><span>Hello.</span></div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons"></i>weather</div>
      <div class="collapsible-body"><span>world.</span></div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons"></i>third option</div>
      <div class="collapsible-body"><span>what.</span></div>
    </li>
  </ul>
        




    <div id="show" style="cursor:pointer; font-size:22px; right-align;">Add New<span style="font-size: 1.5em;">&#10753;</span></div>
     <div class="menu" style="display: none;">
      <div class="card">
  
        <div class="card-content">
            <span class="card-title center">Activity</span>
           <table>
      
         <hr>
           <tbody>
            {% for act in dest.activities_set.all %}
             <tr>
              <td>{{act.name}}</td>
              <td>{{act.date}}</td>
              <td>{{act.duration}}</td>
              <td>{{act.notes}}</td>

              <td><a href="{% url 'act_update' act.id %}" class="btn blue darken-4">Update</a></td>
              <td> <form action="{% url 'act_delete' act.id  %}" method="POST">{% csrf_token %} <button type="submit" class="btn blue darken-4" style="font-family: Bebas Neue">REMOVE</button></form></td>
             </tr>
            {% endfor %}
           </tbody>
          </table>
          <br>
          <form action="{% url 'act_create' dest.id %}" method="POST">
          {% csrf_token %} {{ act_form.as_p }}
          <input type="submit" class="btn blue accent-2" value="Add Activity" style="font-family: Bebas Neue" >
          </form>
         </div>
        </div>
      </div>
    </div>
</div>



    <script>
    const dateEl = document.getElementById('id_date');
    M.Datepicker.init(dateEl, {
      format: 'yyyy-mm-dd',
      defaultDate: new Date(),
      setDefaultDate: true,
      autoClose: true
      });
  

    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
    $(document).ready(function(){
    $('#show').click(function() {
      $('.menu').toggle("slide");
    });
    });
    </script>

    <script>

    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.collapsible');
        var instances = M.Collapsible.init(elems, options);
    });

    

    </script>
    {% endblock %}